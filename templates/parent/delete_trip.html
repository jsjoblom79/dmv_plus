{% extends 'base.html' %}

{% block title %}Delete Trip - DMV+{% endblock %}

{% block content %}
<div class="container">
    <div style="margin-bottom: 20px;">
        <a href="{% url 'view_trip' trip.trip_id %}" style="color: #4CAF50;">‚Üê Back to Trip</a>
    </div>

    <h1>Delete Driving Session</h1>

    <div class="message error" style="margin: 20px 0;">
        <strong>Warning:</strong> Are you sure you want to delete this driving session?
    </div>

    <div style="border: 1px solid #ddd; padding: 20px; border-radius: 4px; margin: 20px 0;">
        <h3>Session Details</h3>
        <p style="margin: 10px 0;"><strong>Student:</strong> {{ student.first_name }} {{ student.last_name }}</p>
        <p style="margin: 10px 0;"><strong>Date:</strong> {{ trip.start_time|date:"M d, Y" }}</p>
        <p style="margin: 10px 0;"><strong>Time:</strong> {{ trip.start_time|time:"g:i A" }} - {{ trip.end_time|time:"g:i A" }}</p>
        <p style="margin: 10px 0;"><strong>Duration:</strong> {{ trip.duration }} minutes</p>
        <p style="margin: 10px 0;">
            <strong>Type:</strong>
            {% if trip.is_night %}
                Night Driving
            {% else %}
                Day Driving
            {% endif %}
        </p>
    </div>

    <p><strong>This action cannot be undone.</strong> The driving hours will be removed from the student's total.</p>

    <form method="post" action="{% url 'delete_trip' trip.trip_id %}">
        {% csrf_token %}

        <div class="form-actions" style="display: flex; gap: 10px; margin-top: 30px;">
            <button type="submit" style="background-color: #f44336; flex: 1;">
                Yes, Delete Session
            </button>
            <a href="{% url 'view_trip' trip.trip_id %}" style="display: inline-block; padding: 10px 20px; background-color: #666; color: white; text-decoration: none; border-radius: 4px; text-align: center; flex: 1;">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}